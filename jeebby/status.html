<script type="text/javascript">
(function() {
    function getStatusLabel(status)
    {
        if(status == '0') {
            return 'Not running';
        } else if(status == '1') {
            return 'Running';
        } else if(status == '2') {
            return 'Error';
        } else if(status == '3') {
            return 'Warning';
        } else if(status == '4') {
            return 'Executed';
        } else {
            throw Error('Invalid status type.');
        }
    }

    RED.nodes.registerType('jeebby-status', {
        category: 'jeebby',
        color: '#63a4bc',
        defaults: {
            status: {
                value: "",
                required: true
            }
        },
        inputs: 1,
        outputs: 0,
        label: function() {
            return 'Jeebby status: ' + getStatusLabel(this.status);
        },
        icon: "font-awesome/fa-code-fork"
    });
})();
</script>

<script type="text/html" data-template-name="jeebby-status">
    <div class="form-row">
        <label for="node-input-status"><i class="fa fa-shield"></i> <span data-i18n="jeebbyStatus.labels.status"></span></label>
        <select id="node-input-status">
            <option value="0">Not running</option>
            <option value="1">Running</option>
            <option value="2">Error</option>
            <option value="3">Warning</option>
            <option value="4">Executed</option>
        </select>
    </div>
</script>